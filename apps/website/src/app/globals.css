@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* =============================================================================
   ALECIA DESIGN SYSTEM - CSS Variables
   ============================================================================= */

:root {
	/* Brand Colors */
	/* Alecia Brand Palette */
	--alecia-midnight: #061a40;
	--alecia-corporate: #163e64;
	--alecia-mid-blue: #4370a7;
	--alecia-light-blue: #749ac7;
	--alecia-sky: #bfd7ea;
	--alecia-cloud: #e3f2fd;
	--alecia-red: #b80c09;
	--alecia-taupe: #afabab;
	--alecia-grey-dark: #6f7a8f;
	--alecia-grey-light: #e6e8ec;
	--alecia-white: #fafafc;
	--alecia-grey-chrome: #c8ccd5;

	--alecia-blue-midnight: #061a40;
	--alecia-blue-corporate: #163e64;
	--alecia-blue-mid: #4370a7;
	--alecia-blue-light: #749ac7;
	--alecia-blue-pale: #bfd7ea;
	--alecia-blue-ice: #e3f2fd;
	--alecia-red-accent: #b80c09;
	--alecia-grey-titanium: #6f7a8f;
	--alecia-grey-steel: #aab1be;
	--alecia-grey-cloud: #e6e8ec;
	--alecia-off-white: #fafafc;

	/* Aliases for Warrants/Wizards compatibility */
	--alecia-navy: var(--alecia-blue-midnight);
	--alecia-midnight: var(--alecia-blue-corporate);
	--alecia-light-blue: var(--alecia-blue-light);

	/* Light Mode Defaults */
	/* Background colors */
	--background: var(--alecia-off-white); /* Lightest Grey */
	--background-secondary: var(--alecia-grey-cloud); /* Light Grey */
	--background-tertiary: var(--alecia-grey-chrome); /* Medium Light Grey */

	/* Foreground/Text colors */
	--foreground: var(--alecia-blue-midnight); /* Primary Blue */
	--foreground-muted: #334155; /* Slate 700 - High contrast dark grey */
	--foreground-faint: #64748b; /* Slate 500 - Medium contrast grey */

	/* Accent colors */
	--accent: var(--alecia-blue-midnight); /* Primary Blue */
	--accent-light: var(--alecia-blue-light); /* Lighter Blue */
	--accent-dark: var(--alecia-blue-corporate); /* Secondary Blue */
	--accent-teal: var(--alecia-blue-mid); /* Replaced with Blue for consistency */

	/* UI colors */
	--border: var(--alecia-grey-chrome); /* Medium Light Grey */
	--input: var(--alecia-grey-cloud); /* Light Grey */
	--ring: var(--alecia-blue-mid); /* Blue Ring */

	/* Component colors */
	--card: #ffffff;
	--card-foreground: var(--alecia-blue-midnight);
	--popover: #ffffff;
	--popover-foreground: var(--alecia-blue-midnight);

	/* Semantic colors */
	--primary: var(--alecia-blue-midnight);
	--primary-foreground: var(--alecia-off-white);
	--secondary: var(--alecia-grey-cloud);
	--secondary-foreground: var(--alecia-blue-midnight);
	--muted: var(--alecia-grey-cloud);
	--muted-foreground: var(--alecia-grey-titanium);
	--destructive: var(--alecia-red-accent); /* Red */
	--destructive-foreground: var(--alecia-off-white);

	/* Radius */
	--radius: 0.625rem;
	--accent-foreground: var(--alecia-off-white);

	/* Fonts - Bierstadt handled by next/font/local in layout */

	/* Charts */
	--chart-1: #061a40;
	--chart-2: #163e64;
	--chart-3: #4370a7;
	--chart-4: #749ac7;
	--chart-5: #b80c09;

	/* Sidebar */
	--sidebar: var(--alecia-off-white);
	--sidebar-foreground: var(--alecia-blue-midnight);
	--sidebar-primary: var(--alecia-blue-midnight);
	--sidebar-primary-foreground: var(--alecia-off-white);
	--sidebar-accent: var(--alecia-grey-cloud);
	--sidebar-accent-foreground: var(--alecia-blue-midnight);
	--sidebar-border: var(--alecia-grey-chrome);
	--sidebar-ring: var(--alecia-blue-mid);

	/* Status Colors - for admin pipeline, alerts, etc */
	--color-success: #10b981;
	--color-warning: #f59e0b;
	--color-error: #ef4444;
	--color-info: var(--alecia-mid-blue);

	/* Spacing Scale */
	--spacing-xs: 0.25rem;
	--spacing-sm: 0.5rem;
	--spacing-md: 1rem;
	--spacing-lg: 1.5rem;
	--spacing-xl: 2rem;
	--spacing-2xl: 3rem;
}

/* Dark Mode - Mapped to strict palette where possible, ensuring contrast */
.dark {
	/* Background colors */
	--background: var(--alecia-blue-midnight); /* Primary Blue as bg */
	--background-secondary: var(--alecia-blue-corporate); /* Secondary Blue */
	--background-tertiary: var(--alecia-blue-corporate); /* Same as secondary for now, or could use opacity */

	/* Foreground/Text colors */
	--foreground: var(--alecia-off-white); /* Lightest Grey */
	--foreground-muted: var(--alecia-grey-chrome); /* Medium Light Grey */
	--foreground-faint: var(--alecia-grey-steel); /* Medium Grey */

	/* Accent colors */
	--accent: var(--alecia-blue-mid); /* Blue Accent for dark mode visibility */
	--accent-light: var(--alecia-blue-light);
	--accent-dark: var(--alecia-blue-midnight);
	--accent-teal: var(--alecia-blue-light); /* Lighter Blue */

	/* UI colors */
	--border: var(--alecia-blue-mid);
	--input: var(--alecia-blue-corporate);
	--ring: var(--alecia-blue-light);

	/* Component colors */
	--card: var(--alecia-blue-midnight);
	--card-foreground: var(--alecia-off-white);
	--popover: var(--alecia-blue-midnight);
	--popover-foreground: var(--alecia-off-white);

	/* Semantic colors */
	--primary: var(--alecia-off-white);
	--primary-foreground: var(--alecia-blue-midnight);
	--secondary: var(--alecia-blue-corporate);
	--secondary-foreground: var(--alecia-off-white);
	--muted: var(--alecia-blue-corporate);
	--muted-foreground: var(--alecia-grey-chrome);
	--destructive: var(--alecia-red-accent);
	--destructive-foreground: var(--alecia-off-white);

	--accent-foreground: var(--alecia-off-white);

	/* Charts */
	--chart-1: #749ac7;
	--chart-2: #4370a7;
	--chart-3: #bfd7ea;
	--chart-4: #e3f2fd;
	--chart-5: #b80c09;

	/* Sidebar */
	--sidebar: var(--alecia-blue-midnight);
	--sidebar-foreground: var(--alecia-off-white);
	--sidebar-primary: var(--alecia-blue-mid);
	--sidebar-primary-foreground: var(--alecia-blue-midnight);
	--sidebar-accent: var(--alecia-blue-corporate);
	--sidebar-accent-foreground: var(--alecia-off-white);
	--sidebar-border: var(--alecia-blue-mid);
	--sidebar-ring: var(--alecia-blue-light);
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--font-sans: var(--font-bierstadt), sans-serif;
	--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
		"Liberation Mono", "Courier New", monospace;

	/* Custom colors - Mapped to official palette */
	--color-midnight-950: var(--alecia-blue-midnight);
	--color-midnight-900: var(--alecia-blue-corporate);
	--color-midnight-800: var(--alecia-blue-corporate);
	--color-gold-400: var(--alecia-blue-light);
	--color-gold-500: var(--alecia-blue-mid);
	--color-gold-500: var(--alecia-blue-mid);
	--color-gold-600: var(--alecia-blue-midnight);

	--color-alecia-midnight: var(--alecia-midnight);
	--color-alecia-corporate: var(--alecia-corporate);
	--color-alecia-mid-blue: var(--alecia-mid-blue);
	--color-alecia-light-blue: var(--alecia-light-blue);
	--color-alecia-sky: var(--alecia-sky);
	--color-alecia-cloud: var(--alecia-cloud);
	--color-alecia-red: var(--alecia-red);
	--color-alecia-grey-dark: var(--alecia-grey-dark);
	--color-alecia-grey-light: var(--alecia-grey-light);
	--color-alecia-grey-chrome: var(--alecia-grey-chrome);

	--color-sidebar-ring: var(--sidebar-ring);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar: var(--sidebar);
	--color-chart-5: var(--chart-5);
	--color-chart-4: var(--chart-4);
	--color-chart-3: var(--chart-3);
	--color-chart-2: var(--chart-2);
	--color-chart-1: var(--chart-1);
	--color-ring: var(--ring);
	--color-input: var(--input);
	--color-border: var(--border);
	--color-destructive: var(--destructive);
	--color-accent-foreground: var(--accent-foreground);
	--color-accent: var(--accent);
	--color-accent-teal: var(--accent-teal);
	--color-muted-foreground: var(--muted-foreground);
	--color-muted: var(--muted);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-secondary: var(--secondary);
	--color-primary-foreground: var(--primary-foreground);
	--color-primary: var(--primary);
	--color-popover-foreground: var(--popover-foreground);
	--color-popover: var(--popover);
	--color-card-foreground: var(--card-foreground);
	--color-card: var(--card);
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);

	/* Custom shadow colors with #061A40 navy */
	--shadow-navy-sm: 0 1px 2px 0 rgba(6, 26, 64, 0.05);
	--shadow-navy-md: 0 4px 6px -1px rgba(6, 26, 64, 0.1), 0 2px 4px -1px
		rgba(6, 26, 64, 0.06);
	--shadow-navy-lg: 0 10px 15px -3px rgba(6, 26, 64, 0.1), 0 4px 6px -2px
		rgba(6, 26, 64, 0.05);
	--shadow-navy-xl: 0 20px 25px -5px rgba(6, 26, 64, 0.1), 0 10px 10px -5px
		rgba(6, 26, 64, 0.04);
	--shadow-navy-2xl: 0 25px 50px -12px rgba(6, 26, 64, 0.25);
}

/* =============================================================================
   BASE STYLES
   ============================================================================= */

/* Body font is handled by next/font className in layout.tsx */
body {
	@apply antialiased;
}

h1,
h1 * {
	font-family: var(--font-playfair) !important;
}

/* =============================================================================
   TYPOGRAPHY
   ============================================================================= */

/* Main h1 titles use Playfair Display in bold */
h1 {
	font-family: var(--font-playfair);
	font-weight: 700;
	letter-spacing: -0.01em;
}

h2 {
	font-family: var(--font-playfair);
	font-weight: 600;
	letter-spacing: -0.01em;
}

h3,
h4,
h5,
h6 {
	font-family: var(--font-sans);
	font-weight: 600;
	letter-spacing: -0.01em;
}

/* =============================================================================
   CUSTOM UTILITIES
   ============================================================================= */

/* Glassmorphism effect for navbar - adapts to theme */
.glass {
	background: rgba(250, 250, 252, 0.85); /* Slightly more opaque */
	backdrop-filter: blur(16px); /* Increased blur */
	-webkit-backdrop-filter: blur(16px);
	border-bottom: 1px solid rgba(200, 204, 213, 0.5);
}

.dark .glass {
	background: rgba(6, 26, 64, 0.85);
	border-bottom: 1px solid rgba(67, 112, 167, 0.3);
}

/* Blue gradient for accent text (Renaming text-gradient-gold to text-gradient-alecia) */
.text-gradient-alecia {
	background: linear-gradient(135deg, #061a40 0%, #163e64 50%, #4370a7 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	/* Prevent clipping of descenders (g, j, y, etc.) */
	padding-bottom: 0.15em;
	margin-bottom: -0.15em;
}

/* Metallic blue button */
.btn-gold {
	background: linear-gradient(135deg, #061a40 0%, #163e64 100%);
	color: #ffffff !important;
	font-weight: 600;
	transition: all 0.3s ease;
}

.btn-gold:hover {
	box-shadow: 0 4px 20px rgba(6, 26, 64, 0.4);
	transform: translateY(-1px);
	color: #ffffff !important;
	opacity: 0.9;
}

/* Card hover effect */
.card-hover {
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-hover:hover {
	transform: translateY(-6px);
	box-shadow: 0 16px 48px rgba(6, 26, 64, 0.15);
	border-color: rgba(6, 26, 64, 0.4);
}

.dark .card-hover:hover {
	box-shadow: 0 16px 48px rgba(6, 26, 64, 0.5);
}

/* Link hover effect */
.link-hover {
	position: relative;
	transition: color 0.3s ease;
}

.link-hover::after {
	content: "";
	position: absolute;
	bottom: -2px;
	left: 0;
	width: 0;
	height: 2px;
	background: var(--accent);
	transition: width 0.3s ease;
}

.link-hover:hover::after {
	width: 100%;
}

/* Focus ring improvements */
.focus-ring {
	outline: none;
	transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.focus-ring:focus-visible {
	box-shadow: 0 0 0 3px rgba(67, 112, 167, 0.3);
	border-color: var(--accent);
}

/* Input focus state */
.input-focus {
	transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.input-focus:focus {
	border-color: var(--accent);
	box-shadow: 0 0 0 3px rgba(67, 112, 167, 0.15);
}

/* Loading spinner */
.spinner {
	width: 20px;
	height: 20px;
	border: 2px solid var(--border);
	border-top-color: var(--accent);
	border-radius: 50%;
	animation: spin 0.8s linear infinite;
}

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

/* Fade in animation */
.fade-in {
	animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Button disabled state improvement */
.btn-disabled {
	opacity: 0.6;
	cursor: not-allowed;
	pointer-events: none;
}

/* =============================================================================
   CUSTOM SHADOW UTILITIES (Navy Blue #061A40)
   ============================================================================= */

.shadow-navy-sm {
	box-shadow: 0 1px 2px 0 rgba(6, 26, 64, 0.05);
}

.shadow-navy {
	box-shadow: 0 4px 6px -1px rgba(6, 26, 64, 0.1), 0 2px 4px -1px
		rgba(6, 26, 64, 0.06);
}

.shadow-navy-md {
	box-shadow: 0 4px 6px -1px rgba(6, 26, 64, 0.1), 0 2px 4px -1px
		rgba(6, 26, 64, 0.06);
}

.shadow-navy-lg {
	box-shadow: 0 10px 15px -3px rgba(6, 26, 64, 0.1), 0 4px 6px -2px
		rgba(6, 26, 64, 0.05);
}

.shadow-navy-xl {
	box-shadow: 0 20px 25px -5px rgba(6, 26, 64, 0.1), 0 10px 10px -5px
		rgba(6, 26, 64, 0.04);
}

.shadow-navy-2xl {
	box-shadow: 0 25px 50px -12px rgba(6, 26, 64, 0.25);
}

.hover\:shadow-navy-lg:hover {
	box-shadow: 0 10px 15px -3px rgba(6, 26, 64, 0.1), 0 4px 6px -2px
		rgba(6, 26, 64, 0.05);
}

.hover\:shadow-navy-xl:hover {
	box-shadow: 0 20px 25px -5px rgba(6, 26, 64, 0.1), 0 10px 10px -5px
		rgba(6, 26, 64, 0.04);
}

.hover\:shadow-navy-2xl:hover {
	box-shadow: 0 25px 50px -12px rgba(6, 26, 64, 0.25);
}

/* =============================================================================
   SCROLLBAR STYLING
   ============================================================================= */

html {
	scrollbar-gutter: stable; /* Added scrollbar-gutter */
	scroll-behavior: smooth;
}

::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--background-secondary);
}

::-webkit-scrollbar-thumb {
	background: var(--border);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--foreground-faint);
}

/* =============================================================================
   SELECTION STYLING
   ============================================================================= */

::selection {
	background: rgba(67, 112, 167, 0.3);
	color: var(--foreground);
}

/* =============================================================================
   SMOOTH SCROLLING & ANCHOR OFFSETS
   ============================================================================= */

/* Offset anchors by navbar height to prevent content from hiding behind fixed header */
[id] {
	scroll-margin-top: 100px;
}

/* =============================================================================
   ACCESSIBILITY UTILITIES (A11Y)
   ============================================================================= */

/* Focus visible styles for keyboard navigation - WCAG 2.1 AA 2.4.7 */
*:focus-visible {
	outline: 3px solid var(--alecia-mid-blue);
	outline-offset: 2px;
	border-radius: 4px;
}

/* Disable outline for mouse users */
*:focus:not(:focus-visible) {
	outline: none;
}

/* Button focus states - Enhanced visibility */
button:focus-visible,
[role="button"]:focus-visible,
[type="button"]:focus-visible,
[type="submit"]:focus-visible,
[type="reset"]:focus-visible {
	outline: 3px solid var(--alecia-mid-blue);
	outline-offset: 2px;
	box-shadow: 0 0 0 4px rgba(67, 112, 167, 0.25);
	border-radius: 6px;
}

/* Link focus states - High contrast */
a:focus-visible {
	outline: 3px solid var(--alecia-mid-blue);
	outline-offset: 2px;
	border-radius: 4px;
	box-shadow: 0 0 0 3px rgba(67, 112, 167, 0.15);
}

/* Input/Textarea focus states - Clear form field focus */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
	outline: 3px solid var(--alecia-mid-blue);
	outline-offset: 0px;
	border-color: var(--alecia-mid-blue);
	box-shadow: 0 0 0 4px rgba(67, 112, 167, 0.15);
}

/* Card/Interactive container focus */
[role="link"]:focus-visible,
[role="button"]:focus-visible,
.card-hover:focus-visible,
.interactive-card:focus-visible {
	outline: 3px solid var(--alecia-mid-blue);
	outline-offset: 2px;
	box-shadow: 0 0 0 4px rgba(67, 112, 167, 0.2);
}

/* Navigation items focus */
nav a:focus-visible,
[role="menuitem"]:focus-visible,
[role="tab"]:focus-visible {
	outline: 3px solid var(--alecia-mid-blue);
	outline-offset: 2px;
	background-color: rgba(67, 112, 167, 0.1);
}

/* Dark mode focus adjustments */
.dark *:focus-visible,
.dark button:focus-visible,
.dark a:focus-visible {
	outline-color: var(--alecia-blue-light);
	box-shadow: 0 0 0 4px rgba(116, 154, 199, 0.3);
}

/* Screen reader only utility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* Skip to main content link */
.skip-link {
	position: absolute;
	top: -40px;
	left: 0;
	background: var(--alecia-midnight);
	color: white;
	padding: 8px 16px;
	z-index: 100;
	transition: top 0.2s ease;
}

.skip-link:focus {
	top: 0;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* Force scrollbar to prevent layout shifts */
html {
	overflow-y: scroll;
}

/* 3D Transform utilities for card flipping */
.transform-style-3d {
	transform-style: preserve-3d;
}

.backface-hidden {
	backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
}

.perspective-1000 {
	perspective: 1000px;
}

@layer base {
	* {
		@apply border-border outline-ring/50;
	}
	body {
		@apply bg-background text-foreground;
	}
}
