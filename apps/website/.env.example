# ==============================================================================
# Alecia Website (Next.js) Environment Configuration
# ==============================================================================
# This file contains all environment variables required for the website app.
# Copy this file to .env.local and fill in your actual values.
#
# IMPORTANT: This app is part of the monorepo. For local development, you may
# also need to configure variables at the root level.
# ==============================================================================

# ==============================================================================
# CORE CONFIGURATION
# ==============================================================================

# Node Environment (development, production, test)
NODE_ENV=development

# ==============================================================================
# DATABASE & CACHING
# ==============================================================================

# PostgreSQL Database Connection String
# Format: postgresql://username:password@host:port/database
# Local dev: postgresql://alecia:password@localhost:5432/alecia
# Production: postgresql://alecia:${POSTGRES_PASSWORD}@alecia-postgres:5432/alecia
DATABASE_URL=postgresql://alecia:password@localhost:5432/alecia

# Redis Connection String (for caching and sessions)
# Format: redis://:password@host:port
# Local dev: redis://:password@localhost:6379
# Production: redis://:${REDIS_PASSWORD}@alecia-redis:6379
# Optional: If using Upstash Redis (cloud-hosted)
# UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-upstash-token
REDIS_URL=redis://:password@localhost:6379

# ==============================================================================
# AUTHENTICATION (NextAuth / Better Auth)
# ==============================================================================

# NextAuth URL (your site URL)
# Local dev: http://localhost:3000
# Production: https://alecia.markets
NEXTAUTH_URL=http://localhost:3000

# NextAuth Secret (for session encryption)
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be at least 32 characters long
NEXTAUTH_SECRET=changeme_nextauth_secret_minimum_32_characters_required

# Better Auth Secret (for enhanced authentication)
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be at least 32 characters long
BETTER_AUTH_SECRET=changeme_better_auth_secret_minimum_32_characters_required

# Better Auth URL (same as NEXTAUTH_URL typically)
BETTER_AUTH_URL=http://localhost:3000

# ==============================================================================
# MINIO (S3-compatible object storage)
# ==============================================================================

# MinIO Configuration (for file uploads)
# Local dev: http://localhost:9000
# Production: http://alecia-minio:9000 (internal) or https://s3.alecia.markets (external)
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=alecia
MINIO_SECRET_KEY=changeme_minio_password_here
MINIO_BUCKET=alecia-uploads
MINIO_PUBLIC_URL=http://localhost:9000

# ==============================================================================
# STRAPI CMS (Content Management)
# ==============================================================================

# Strapi CMS URL
# Local dev: http://localhost:1337
# Production: http://alecia-cms:1337 (internal) or https://cms.alecia.markets (external)
STRAPI_URL=http://localhost:1337

# Strapi API Token (for accessing CMS content)
# Generate this from: Strapi Admin Panel > Settings > API Tokens > Create new API Token
# IMPORTANT: Create this AFTER Strapi is set up and running
# Choose "Full Access" or "Custom" with appropriate permissions
STRAPI_API_TOKEN=changeme_generate_from_strapi_admin_panel

# ==============================================================================
# INTER-SERVICE COMMUNICATION
# ==============================================================================

# Alecia Colab App URL (for cross-app navigation)
# Local dev: http://localhost:3001
# Production: https://colab.alecia.markets
NEXT_PUBLIC_ALECIA_COLAB_URL=http://localhost:3001

# Public App URL (for OAuth callbacks and absolute URLs)
# Local dev: http://localhost:3000
# Production: https://alecia.markets
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ==============================================================================
# SENTRY ERROR TRACKING (Optional)
# ==============================================================================

# Sentry DSN for error tracking
# Obtain from: https://sentry.io/ > Your Project > Settings > Client Keys (DSN)
# Leave empty to disable Sentry
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ORG=your-sentry-org
# SENTRY_PROJECT=your-sentry-project

# ==============================================================================
# OAUTH & EXTERNAL INTEGRATIONS (Optional)
# ==============================================================================

# Google OAuth (for Google Calendar/Drive integration)
# Obtain from: https://console.cloud.google.com/ > Credentials > Create OAuth 2.0 Client
# Required scopes: openid, email, profile, calendar, drive (as needed)
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth (for Microsoft 365/Outlook/Teams integration)
# Obtain from: https://portal.azure.com/ > App registrations > New registration
# Required permissions: User.Read, Calendars.ReadWrite, Files.ReadWrite.All (as needed)
# MICROSOFT_CLIENT_ID=your-microsoft-client-id
# MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
# MICROSOFT_TENANT_ID=common

# Pipedrive CRM (for CRM integration)
# Obtain from: https://app.pipedrive.com/settings/api > Generate API token
# Or use OAuth: https://pipedrive.readme.io/docs/marketplace-oauth-authorization
# PIPEDRIVE_CLIENT_ID=your-pipedrive-client-id
# PIPEDRIVE_CLIENT_SECRET=your-pipedrive-client-secret
# PIPEDRIVE_REDIRECT_URI=http://localhost:3000/api/integrations/pipedrive/callback

# ==============================================================================
# AI / ML SERVICES (Optional)
# ==============================================================================

# OpenAI API (for AI-powered features)
# Obtain from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-your-openai-api-key

# Groq API (for fast AI inference)
# Obtain from: https://console.groq.com/keys
# GROQ_API_KEY=gsk_your-groq-api-key

# ==============================================================================
# DATA & ENRICHMENT SERVICES (Optional)
# ==============================================================================

# Pappers API (French company data)
# Obtain from: https://www.pappers.fr/api > Create account > Get API key
# PAPPERS_API_KEY=your-pappers-api-key
# PAPPERS_API_TOKEN=your-pappers-api-token

# ==============================================================================
# EMAIL SERVICES (Optional)
# ==============================================================================

# Resend (for transactional emails)
# Obtain from: https://resend.com/api-keys > Create API Key
# RESEND_API_KEY=re_your-resend-api-key

# Lead/Contact Form Email Recipient
# Where to send contact form submissions
# LEAD_EMAIL_TO=contact@alecia.markets

# ==============================================================================
# WEBHOOKS & REVALIDATION (Optional)
# ==============================================================================

# Revalidation Secret (for on-demand ISR revalidation)
# Generate with: openssl rand -base64 32
# Used to secure revalidation webhooks from Strapi or other services
# REVALIDATION_SECRET=changeme_revalidation_secret

# Analytics Drain Secret (for custom analytics webhooks)
# ANALYTICS_DRAIN_SECRET=changeme_analytics_secret

# ==============================================================================
# RESEARCH AGENT (Optional)
# ==============================================================================

# Custom research agent endpoint (if using external research service)
# AGENT_RESEARCH_URL=https://research-api.example.com
# AGENT_RESEARCH_TOKEN=your-research-token

# ==============================================================================
# LEGACY / DEPRECATED (Keep for compatibility)
# ==============================================================================

# Convex (if migrating from Convex to direct DB access)
# NEXT_PUBLIC_CONVEX_URL=https://your-convex-deployment.convex.cloud
# CONVEX_URL=https://your-convex-deployment.convex.cloud

# ==============================================================================
# DEVELOPMENT & TESTING
# ==============================================================================

# CI Environment (set by CI/CD systems)
# CI=true

# Playwright Test Base URL (for E2E testing)
# PLAYWRIGHT_TEST_BASE_URL=http://localhost:3000

# ==============================================================================
# QUICK START GUIDE
# ==============================================================================
# 1. Copy this file: cp .env.example .env.local
# 2. Generate secrets:
#    - NEXTAUTH_SECRET: openssl rand -base64 32
#    - BETTER_AUTH_SECRET: openssl rand -base64 32
# 3. Set up local services (PostgreSQL, Redis, MinIO)
# 4. Update DATABASE_URL, REDIS_URL with your local credentials
# 5. Start Strapi and generate STRAPI_API_TOKEN
# 6. Add optional API keys for integrations as needed
# 7. Run: npm run dev
# ==============================================================================
