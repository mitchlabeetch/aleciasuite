# ==============================================================================
# AleciaSuite Environment Configuration Template
# ==============================================================================
# This file provides a complete reference for all environment variables required
# to run the AleciaSuite production deployment (docker-compose.production.yml).
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env in the same directory
# 2. Replace all placeholder values with your actual secrets and configuration
# 3. Generate secure random strings for all SECRET/KEY variables (see instructions below)
# 4. Update URLs and domains to match your deployment environment
#
# SECURITY WARNING:
# - Never commit the actual .env file with real secrets to version control
# - Use strong, randomly generated secrets (minimum 32 characters)
# - Rotate secrets regularly in production environments
# ==============================================================================

# ==============================================================================
# INFRASTRUCTURE SECRETS
# ==============================================================================

# PostgreSQL Database Password
# Used by: All services (postgres, website, colab, strapi, activepieces, etc.)
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=changeme_secure_postgres_password_here

# Redis Password
# Used by: All services that use Redis for caching/sessions
# Generate with: openssl rand -base64 32
REDIS_PASSWORD=changeme_secure_redis_password_here

# MinIO (S3-compatible object storage)
# Used by: Strapi (file uploads), DocuSeal (document storage)
# Username: Can be any alphanumeric string (e.g., 'alecia' or 'admin')
# Password: Generate with: openssl rand -base64 32
MINIO_ROOT_USER=alecia
MINIO_ROOT_PASSWORD=changeme_secure_minio_password_here

# ==============================================================================
# NEXTAUTH / BETTER_AUTH (Authentication for Next.js apps)
# ==============================================================================

# NextAuth Secret
# Used by: Next.js website and colab apps for session encryption
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be at least 32 characters long
NEXTAUTH_SECRET=changeme_nextauth_secret_minimum_32_characters_required

# Better Auth Secret
# Used by: Better Auth library for enhanced authentication features
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be at least 32 characters long
BETTER_AUTH_SECRET=changeme_better_auth_secret_minimum_32_characters_required

# ==============================================================================
# STRAPI CMS (Content Management System)
# ==============================================================================

# Strapi JWT Secret
# Used for generating JWT tokens for API authentication
# Generate with: openssl rand -base64 32
STRAPI_JWT_SECRET=changeme_strapi_jwt_secret_here

# Strapi Admin JWT Secret
# Used for admin panel JWT token generation
# Generate with: openssl rand -base64 32
STRAPI_ADMIN_JWT_SECRET=changeme_strapi_admin_jwt_secret_here

# Strapi APP_KEYS
# Used for session encryption and security features
# IMPORTANT: This must be a comma-separated list of 4 base64 strings
# Generate with: node -e "console.log([...Array(4)].map(() => require('crypto').randomBytes(16).toString('base64')).join(','))"
# Example format: "key1Base64==,key2Base64==,key3Base64==,key4Base64=="
STRAPI_APP_KEYS=changeme_key1,changeme_key2,changeme_key3,changeme_key4

# Strapi API Token Salt
# Used for generating API tokens
# Generate with: openssl rand -base64 32
STRAPI_API_TOKEN_SALT=changeme_strapi_api_token_salt_here

# ==============================================================================
# ACTIVEPIECES (Workflow Automation)
# ==============================================================================

# Activepieces Encryption Key
# Used for encrypting sensitive data in workflows
# Generate with: openssl rand -hex 16
# IMPORTANT: Must be exactly 32 hex characters (16 bytes)
AP_ENCRYPTION_KEY=changeme_32_hex_characters_here_1234567890abcdef

# Activepieces JWT Secret
# Used for JWT token generation in Activepieces
# Generate with: openssl rand -base64 32
AP_JWT_SECRET=changeme_activepieces_jwt_secret_here

# ==============================================================================
# PLAUSIBLE ANALYTICS
# ==============================================================================

# Plausible Secret Key Base
# Used for encrypting session data and cookies
# Generate with: openssl rand -base64 64
# IMPORTANT: Must be at least 64 characters long
PLAUSIBLE_SECRET_KEY_BASE=changeme_plausible_secret_key_base_minimum_64_characters_required_here

# ==============================================================================
# MINIFLUX (RSS Feed Reader)
# ==============================================================================

# Miniflux Admin Credentials
# Used for initial admin user creation
# Username: Can be any string (default: admin)
# Password: Use a strong password (recommend: openssl rand -base64 24)
MINIFLUX_ADMIN_USERNAME=admin
MINIFLUX_ADMIN_PASSWORD=changeme_miniflux_admin_password_here

# ==============================================================================
# DOCUSEAL (Document Signing)
# ==============================================================================

# DocuSeal Secret Key Base
# Used for session encryption and security
# Generate with: openssl rand -hex 64
DOCUSEAL_SECRET_KEY_BASE=changeme_docuseal_secret_key_base_here

# ==============================================================================
# VAULTWARDEN (Password Manager)
# ==============================================================================

# Vaultwarden Admin Token
# Used to access the admin panel
# Generate with: openssl rand -base64 32
# IMPORTANT: Leave empty to disable admin panel (more secure)
VAULTWARDEN_ADMIN_TOKEN=changeme_vaultwarden_admin_token_here

# ==============================================================================
# STIRLING PDF (PDF Tools)
# ==============================================================================

# Stirling PDF Admin Credentials
# Used for login to Stirling PDF interface
# Username: Can be any string (default: admin)
# Password: Use a strong password (recommend: openssl rand -base64 24)
STIRLING_USERNAME=admin
STIRLING_PASSWORD=changeme_stirling_password_here

# ==============================================================================
# OPTIONAL: EXTERNAL INTEGRATIONS
# ==============================================================================
# The following variables are OPTIONAL and only required if you want to enable
# specific integrations. Leave commented out if not needed.

# Sentry Error Tracking (Optional)
# Obtain from: https://sentry.io/ (create a project, get DSN from settings)
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ORG=your-sentry-org
# SENTRY_PROJECT=your-sentry-project

# Google OAuth (Optional - for Google Calendar integration)
# Obtain from: https://console.cloud.google.com/ (create OAuth 2.0 credentials)
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth (Optional - for Microsoft 365 integration)
# Obtain from: https://portal.azure.com/ (register an application)
# MICROSOFT_CLIENT_ID=your-microsoft-client-id
# MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
# MICROSOFT_TENANT_ID=common

# Pipedrive CRM (Optional - for CRM integration)
# Obtain from: https://app.pipedrive.com/settings/api (generate API token)
# PIPEDRIVE_CLIENT_ID=your-pipedrive-client-id
# PIPEDRIVE_CLIENT_SECRET=your-pipedrive-client-secret

# Strapi API Token (Optional - for frontend to access Strapi CMS)
# Generate from: Strapi Admin Panel > Settings > API Tokens > Create new API Token
# After Strapi is running, create a full-access API token
# STRAPI_API_TOKEN=your-strapi-api-token-here

# Pappers API (Optional - for French company data)
# Obtain from: https://www.pappers.fr/api
# PAPPERS_API_KEY=your-pappers-api-key
# PAPPERS_API_TOKEN=your-pappers-api-token

# OpenAI API (Optional - for AI features)
# Obtain from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-your-openai-api-key

# Groq API (Optional - for AI features)
# Obtain from: https://console.groq.com/
# GROQ_API_KEY=gsk_your-groq-api-key

# Resend Email Service (Optional - for transactional emails)
# Obtain from: https://resend.com/api-keys
# RESEND_API_KEY=re_your-resend-api-key

# ==============================================================================
# DEPLOYMENT NOTES
# ==============================================================================
# After setting up this .env file:
#
# 1. Start infrastructure: docker compose -f docker-compose.production.yml up -d
# 2. Check logs: docker compose -f docker-compose.production.yml logs -f
# 3. Access services:
#    - Website: https://alecia.markets
#    - Colab: https://colab.alecia.markets
#    - Strapi CMS: https://cms.alecia.markets (default: http://localhost:1337)
#    - Activepieces: https://flows.alecia.markets (default: http://localhost:8080)
#    - MinIO Console: https://storage.alecia.markets (default: http://localhost:9001)
#
# 4. Complete initial setup:
#    - Create Strapi admin user (first-time setup wizard)
#    - Generate Strapi API token (Settings > API Tokens)
#    - Update .env with STRAPI_API_TOKEN
#    - Restart website/colab services if needed
# ==============================================================================
